generalized_tables:
  # etldoc: imposm3 -> osm_building_polygon_gen1
  building_polygon_gen1:
    source: building_polygon
    sql_filter: area>power(ZRES12,2) AND ST_IsValid(geometry)
    tolerance: ZRES14

tables:
  # etldoc: imposm3 -> osm_building_polygon
  building_polygon:
    fields:
    - name: osm_id
      type: id
    - name: geometry
      type: validated_geometry
    - name: name
      key: name
      type: string
    - name: building
      key: building
      type: string
    - name: area
      type: area
    mapping:
      building: ["__any__"]
    filters:
      reject:
        building: ["no","none","No"]
    type: polygon
